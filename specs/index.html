<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js iota">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Specification - IOTA Client Library</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href=".././docs/theme/css/custom/header.css">
        

        

        <script src='..//public/build/bundle.js'></script>

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "iota";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('iota')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../welcome.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="../overview/index.html"><strong aria-hidden="true">2.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../libraries/index.html"><strong aria-hidden="true">3.</strong> Libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../libraries/rust/index.html"><strong aria-hidden="true">3.1.</strong> Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../libraries/rust/getting_started.html"><strong aria-hidden="true">3.1.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../libraries/rust/examples.html"><strong aria-hidden="true">3.1.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../libraries/rust/api_reference.html"><strong aria-hidden="true">3.1.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../libraries/rust/troubleshooting.html"><strong aria-hidden="true">3.1.4.</strong> Troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../libraries/nodejs/index.html"><strong aria-hidden="true">3.2.</strong> Node.js</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../libraries/nodejs/getting_started.html"><strong aria-hidden="true">3.2.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../libraries/nodejs/examples.html"><strong aria-hidden="true">3.2.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../libraries/nodejs/api_reference.html"><strong aria-hidden="true">3.2.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../libraries/nodejs/troubleshooting.html"><strong aria-hidden="true">3.2.4.</strong> Troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../libraries/python/index.html"><strong aria-hidden="true">3.3.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../libraries/python/getting_started.html"><strong aria-hidden="true">3.3.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../libraries/python/examples.html"><strong aria-hidden="true">3.3.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../libraries/python/api_reference.html"><strong aria-hidden="true">3.3.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../libraries/python/troubleshooting.html"><strong aria-hidden="true">3.3.4.</strong> Troubleshooting</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../specs/index.html" class="active"><strong aria-hidden="true">4.</strong> Specification</a></li><li class="chapter-item expanded "><a href="../contribute.html"><strong aria-hidden="true">5.</strong> Contribute</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div class="logo-wrapper">
    <svg id="logo" width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40.4006 12.8961C41.8945 12.8961 43.1056 11.6882 43.1056 10.1981C43.1056 8.70796 41.8945 7.5 40.4006 7.5C38.9066 7.5 37.6956 8.70796 37.6956 10.1981C37.6956 11.6882 38.9066 12.8961 40.4006 12.8961Z" fill="#485776"></path><path d="M43.4438 51.0067C44.9377 51.0067 46.1488 49.7987 46.1488 48.3086C46.1488 46.8186 44.9377 45.6106 43.4438 45.6106C41.9498 45.6106 40.7388 46.8186 40.7388 48.3086C40.7388 49.7987 41.9498 51.0067 43.4438 51.0067Z" fill="#485776"></path><path d="M41.1739 19.6414C42.4277 19.6414 43.4441 18.6276 43.4441 17.377C43.4441 16.1264 42.4277 15.1125 41.1739 15.1125C39.92 15.1125 38.9036 16.1264 38.9036 17.377C38.9036 18.6276 39.92 19.6414 41.1739 19.6414Z" fill="#485776"></path><path d="M47.2122 20.5084C48.466 20.5084 49.4825 19.4945 49.4825 18.2439C49.4825 16.9933 48.466 15.9795 47.2122 15.9795C45.9583 15.9795 44.9419 16.9933 44.9419 18.2439C44.9419 19.4945 45.9583 20.5084 47.2122 20.5084Z" fill="#485776"></path><path d="M40.4012 25.3746C41.4683 25.3746 42.3333 24.5118 42.3333 23.4475C42.3333 22.3831 41.4683 21.5203 40.4012 21.5203C39.3341 21.5203 38.469 22.3831 38.469 23.4475C38.469 24.5118 39.3341 25.3746 40.4012 25.3746Z" fill="#485776"></path><path d="M46.4385 26.1942C47.5056 26.1942 48.3707 25.3314 48.3707 24.267C48.3707 23.2027 47.5056 22.3398 46.4385 22.3398C45.3714 22.3398 44.5063 23.2027 44.5063 24.267C44.5063 25.3314 45.3714 26.1942 46.4385 26.1942Z" fill="#485776"></path><path d="M51.2693 28.0729C52.3364 28.0729 53.2015 27.21 53.2015 26.1457C53.2015 25.0813 52.3364 24.2185 51.2693 24.2185C50.2022 24.2185 49.3372 25.0813 49.3372 26.1457C49.3372 27.21 50.2022 28.0729 51.2693 28.0729Z" fill="#485776"></path><path d="M44.6516 30.8191C45.5853 30.8191 46.3422 30.0641 46.3422 29.1328C46.3422 28.2015 45.5853 27.4465 44.6516 27.4465C43.7179 27.4465 42.9609 28.2015 42.9609 29.1328C42.9609 30.0641 43.7179 30.8191 44.6516 30.8191Z" fill="#485776"></path><path d="M38.6137 29.9995C39.5475 29.9995 40.3044 29.2446 40.3044 28.3132C40.3044 27.3819 39.5475 26.627 38.6137 26.627C37.68 26.627 36.9231 27.3819 36.9231 28.3132C36.9231 29.2446 37.68 29.9995 38.6137 29.9995Z" fill="#485776"></path><path d="M49.5302 32.6978C50.464 32.6978 51.2209 31.9428 51.2209 31.0115C51.2209 30.0802 50.464 29.3252 49.5302 29.3252C48.5965 29.3252 47.8396 30.0802 47.8396 31.0115C47.8396 31.9428 48.5965 32.6978 49.5302 32.6978Z" fill="#485776"></path><path d="M42.2367 34.3358C43.037 34.3358 43.6858 33.6887 43.6858 32.8905C43.6858 32.0922 43.037 31.4451 42.2367 31.4451C41.4364 31.4451 40.7876 32.0922 40.7876 32.8905C40.7876 33.6887 41.4364 34.3358 42.2367 34.3358Z" fill="#485776"></path><path d="M47.1154 36.1669C47.9157 36.1669 48.5645 35.5198 48.5645 34.7215C48.5645 33.9232 47.9157 33.2761 47.1154 33.2761C46.3151 33.2761 45.6663 33.9232 45.6663 34.7215C45.6663 35.5198 46.3151 36.1669 47.1154 36.1669Z" fill="#485776"></path><path d="M36.2465 33.4684C37.0468 33.4684 37.6956 32.8213 37.6956 32.023C37.6956 31.2248 37.0468 30.5776 36.2465 30.5776C35.4462 30.5776 34.7974 31.2248 34.7974 32.023C34.7974 32.8213 35.4462 33.4684 36.2465 33.4684Z" fill="#485776"></path><path d="M39.5797 36.6971C40.2466 36.6971 40.7873 36.1578 40.7873 35.4926C40.7873 34.8274 40.2466 34.2881 39.5797 34.2881C38.9127 34.2881 38.3721 34.8274 38.3721 35.4926C38.3721 36.1578 38.9127 36.6971 39.5797 36.6971Z" fill="#485776"></path><path d="M41.6567 40.0213C42.2436 40.0213 42.7194 39.5467 42.7194 38.9613C42.7194 38.3759 42.2436 37.9014 41.6567 37.9014C41.0698 37.9014 40.594 38.3759 40.594 38.9613C40.594 39.5467 41.0698 40.0213 41.6567 40.0213Z" fill="#485776"></path><path d="M39.0965 40.6961C39.5767 40.6961 39.966 40.3079 39.966 39.8289C39.966 39.3499 39.5767 38.9617 39.0965 38.9617C38.6163 38.9617 38.2271 39.3499 38.2271 39.8289C38.2271 40.3079 38.6163 40.6961 39.0965 40.6961Z" fill="#485776"></path><path d="M36.8261 38.1904C37.413 38.1904 37.8888 37.7159 37.8888 37.1305C37.8888 36.5451 37.413 36.0706 36.8261 36.0706C36.2392 36.0706 35.7634 36.5451 35.7634 37.1305C35.7634 37.7159 36.2392 38.1904 36.8261 38.1904Z" fill="#485776"></path><path d="M33.5421 35.878C34.209 35.878 34.7497 35.3387 34.7497 34.6735C34.7497 34.0083 34.209 33.469 33.5421 33.469C32.8751 33.469 32.3345 34.0083 32.3345 34.6735C32.3345 35.3387 32.8751 35.878 33.5421 35.878Z" fill="#485776"></path><path d="M33.4932 26.8196C34.1602 26.8196 34.7008 26.2804 34.7008 25.6151C34.7008 24.9499 34.1602 24.4106 33.4932 24.4106C32.8263 24.4106 32.2856 24.9499 32.2856 25.6151C32.2856 26.2804 32.8263 26.8196 33.4932 26.8196Z" fill="#485776"></path><path d="M34.0246 22.5799C34.6115 22.5799 35.0873 22.1053 35.0873 21.5199C35.0873 20.9345 34.6115 20.46 34.0246 20.46C33.4377 20.46 32.9619 20.9345 32.9619 21.5199C32.9619 22.1053 33.4377 22.5799 34.0246 22.5799Z" fill="#485776"></path><path d="M35.1842 19.1109C35.6644 19.1109 36.0537 18.7227 36.0537 18.2437C36.0537 17.7647 35.6644 17.3765 35.1842 17.3765C34.704 17.3765 34.3147 17.7647 34.3147 18.2437C34.3147 18.7227 34.704 19.1109 35.1842 19.1109Z" fill="#485776"></path><path d="M33.1552 17.4732C33.7421 17.4732 34.2179 16.9986 34.2179 16.4132C34.2179 15.8278 33.7421 15.3533 33.1552 15.3533C32.5683 15.3533 32.0925 15.8278 32.0925 16.4132C32.0925 16.9986 32.5683 17.4732 33.1552 17.4732Z" fill="#485776"></path><path d="M44.4102 38.5274C45.0772 38.5274 45.6178 37.9881 45.6178 37.3229C45.6178 36.6577 45.0772 36.1184 44.4102 36.1184C43.7433 36.1184 43.2026 36.6577 43.2026 37.3229C43.2026 37.9881 43.7433 38.5274 44.4102 38.5274Z" fill="#485776"></path><path d="M30.4019 16.076C31.0689 16.076 31.6095 15.5367 31.6095 14.8715C31.6095 14.2063 31.0689 13.667 30.4019 13.667C29.735 13.667 29.1943 14.2063 29.1943 14.8715C29.1943 15.5367 29.735 16.076 30.4019 16.076Z" fill="#485776"></path><path d="M31.2232 21.1832C31.8902 21.1832 32.4308 20.6439 32.4308 19.9787C32.4308 19.3134 31.8902 18.7742 31.2232 18.7742C30.5563 18.7742 30.0156 19.3134 30.0156 19.9787C30.0156 20.6439 30.5563 21.1832 31.2232 21.1832Z" fill="#485776"></path><path d="M29.871 26.049C30.6713 26.049 31.3201 25.4019 31.3201 24.6036C31.3201 23.8053 30.6713 23.1582 29.871 23.1582C29.0707 23.1582 28.4219 23.8053 28.4219 24.6036C28.4219 25.4019 29.0707 26.049 29.871 26.049Z" fill="#485776"></path><path d="M25.4748 26.0488C26.4085 26.0488 27.1655 25.2939 27.1655 24.3626C27.1655 23.4312 26.4085 22.6763 25.4748 22.6763C24.5411 22.6763 23.7842 23.4312 23.7842 24.3626C23.7842 25.2939 24.5411 26.0488 25.4748 26.0488Z" fill="#485776"></path><path d="M20.355 27.2057C21.4221 27.2057 22.2872 26.3429 22.2872 25.2785C22.2872 24.2141 21.4221 23.3513 20.355 23.3513C19.2879 23.3513 18.4229 24.2141 18.4229 25.2785C18.4229 26.3429 19.2879 27.2057 20.355 27.2057Z" fill="#485776"></path><path d="M14.7517 29.9522C16.0056 29.9522 17.022 28.9384 17.022 27.6878C17.022 26.4372 16.0056 25.4233 14.7517 25.4233C13.4979 25.4233 12.4814 26.4372 12.4814 27.6878C12.4814 28.9384 13.4979 29.9522 14.7517 29.9522Z" fill="#485776"></path><path d="M8.95503 34.577C10.449 34.577 11.6601 33.3691 11.6601 31.879C11.6601 30.3889 10.449 29.1809 8.95503 29.1809C7.46109 29.1809 6.25 30.3889 6.25 31.879C6.25 33.3691 7.46109 34.577 8.95503 34.577Z" fill="#485776"></path><path d="M12.4817 24.3148C13.7356 24.3148 14.752 23.3009 14.752 22.0503C14.752 20.7997 13.7356 19.7859 12.4817 19.7859C11.2279 19.7859 10.2114 20.7997 10.2114 22.0503C10.2114 23.3009 11.2279 24.3148 12.4817 24.3148Z" fill="#485776"></path><path d="M18.0843 21.5682C19.1514 21.5682 20.0164 20.7054 20.0164 19.6411C20.0164 18.5767 19.1514 17.7139 18.0843 17.7139C17.0172 17.7139 16.1521 18.5767 16.1521 19.6411C16.1521 20.7054 17.0172 21.5682 18.0843 21.5682Z" fill="#485776"></path><path d="M17.263 16.4611C18.3301 16.4611 19.1951 15.5982 19.1951 14.5339C19.1951 13.4695 18.3301 12.6067 17.263 12.6067C16.1959 12.6067 15.3308 13.4695 15.3308 14.5339C15.3308 15.5982 16.1959 16.4611 17.263 16.4611Z" fill="#485776"></path><path d="M22.3835 15.3049C23.3172 15.3049 24.0742 14.55 24.0742 13.6187C24.0742 12.6873 23.3172 11.9324 22.3835 11.9324C21.4498 11.9324 20.6929 12.6873 20.6929 13.6187C20.6929 14.55 21.4498 15.3049 22.3835 15.3049Z" fill="#485776"></path><path d="M26.779 15.3051C27.5793 15.3051 28.2281 14.658 28.2281 13.8597C28.2281 13.0614 27.5793 12.4143 26.779 12.4143C25.9786 12.4143 25.3298 13.0614 25.3298 13.8597C25.3298 14.658 25.9786 15.3051 26.779 15.3051Z" fill="#485776"></path><path d="M27.6003 20.4118C28.4006 20.4118 29.0494 19.7646 29.0494 18.9664C29.0494 18.1681 28.4006 17.521 27.6003 17.521C26.7999 17.521 26.1511 18.1681 26.1511 18.9664C26.1511 19.7646 26.7999 20.4118 27.6003 20.4118Z" fill="#485776"></path><path d="M23.2048 20.4605C24.1385 20.4605 24.8955 19.7055 24.8955 18.7742C24.8955 17.8429 24.1385 17.0879 23.2048 17.0879C22.2711 17.0879 21.5142 17.8429 21.5142 18.7742C21.5142 19.7055 22.2711 20.4605 23.2048 20.4605Z" fill="#485776"></path><path d="M18.4225 33.276C18.9026 33.276 19.2919 32.8877 19.2919 32.4087C19.2919 31.9298 18.9026 31.5415 18.4225 31.5415C17.9423 31.5415 17.553 31.9298 17.553 32.4087C17.553 32.8877 17.9423 33.276 18.4225 33.276Z" fill="#485776"></path><path d="M21.9006 32.8428C22.4875 32.8428 22.9633 32.3682 22.9633 31.7828C22.9633 31.1975 22.4875 30.7229 21.9006 30.7229C21.3137 30.7229 20.8379 31.1975 20.8379 31.7828C20.8379 32.3682 21.3137 32.8428 21.9006 32.8428Z" fill="#485776"></path><path d="M25.7161 31.3975C26.3831 31.3975 26.9237 30.8582 26.9237 30.193C26.9237 29.5278 26.3831 28.9885 25.7161 28.9885C25.0492 28.9885 24.5085 29.5278 24.5085 30.193C24.5085 30.8582 25.0492 31.3975 25.7161 31.3975Z" fill="#485776"></path><path d="M26.6342 35.2516C27.4345 35.2516 28.0833 34.6045 28.0833 33.8062C28.0833 33.008 27.4345 32.3608 26.6342 32.3608C25.8339 32.3608 25.1851 33.008 25.1851 33.8062C25.1851 34.6045 25.8339 35.2516 26.6342 35.2516Z" fill="#485776"></path><path d="M21.9974 36.1666C22.6643 36.1666 23.205 35.6273 23.205 34.9621C23.205 34.2968 22.6643 33.7576 21.9974 33.7576C21.3305 33.7576 20.7898 34.2968 20.7898 34.9621C20.7898 35.6273 21.3305 36.1666 21.9974 36.1666Z" fill="#485776"></path><path d="M17.8911 36.1184C18.478 36.1184 18.9538 35.6439 18.9538 35.0585C18.9538 34.4731 18.478 33.9985 17.8911 33.9985C17.3042 33.9985 16.8284 34.4731 16.8284 35.0585C16.8284 35.6439 17.3042 36.1184 17.8911 36.1184Z" fill="#485776"></path><path d="M17.939 39.4432C18.606 39.4432 19.1467 38.9039 19.1467 38.2387C19.1467 37.5734 18.606 37.0342 17.939 37.0342C17.2721 37.0342 16.7314 37.5734 16.7314 38.2387C16.7314 38.9039 17.2721 39.4432 17.939 39.4432Z" fill="#485776"></path><path d="M22.8664 40.0692C23.6667 40.0692 24.3155 39.4221 24.3155 38.6239C24.3155 37.8256 23.6667 37.1785 22.8664 37.1785C22.066 37.1785 21.4172 37.8256 21.4172 38.6239C21.4172 39.4221 22.066 40.0692 22.8664 40.0692Z" fill="#485776"></path><path d="M28.6152 39.4431C29.5489 39.4431 30.3058 38.6882 30.3058 37.7568C30.3058 36.8255 29.5489 36.0706 28.6152 36.0706C27.6815 36.0706 26.9246 36.8255 26.9246 37.7568C26.9246 38.6882 27.6815 39.4431 28.6152 39.4431Z" fill="#485776"></path><path d="M31.9956 43.6344C33.0627 43.6344 33.9278 42.7716 33.9278 41.7072C33.9278 40.6429 33.0627 39.78 31.9956 39.78C30.9285 39.78 30.0635 40.6429 30.0635 41.7072C30.0635 42.7716 30.9285 43.6344 31.9956 43.6344Z" fill="#485776"></path><path d="M24.8955 44.2129C25.8292 44.2129 26.5861 43.4579 26.5861 42.5266C26.5861 41.5953 25.8292 40.8403 24.8955 40.8403C23.9618 40.8403 23.2048 41.5953 23.2048 42.5266C23.2048 43.4579 23.9618 44.2129 24.8955 44.2129Z" fill="#485776"></path><path d="M20.886 47.4888C21.8197 47.4888 22.5766 46.7338 22.5766 45.8025C22.5766 44.8712 21.8197 44.1162 20.886 44.1162C19.9522 44.1162 19.1953 44.8712 19.1953 45.8025C19.1953 46.7338 19.9522 47.4888 20.886 47.4888Z" fill="#485776"></path><path d="M24.2188 51.7289C25.2859 51.7289 26.1509 50.8661 26.1509 49.8017C26.1509 48.7373 25.2859 47.8745 24.2188 47.8745C23.1517 47.8745 22.2866 48.7373 22.2866 49.8017C22.2866 50.8661 23.1517 51.7289 24.2188 51.7289Z" fill="#485776"></path><path d="M33.107 52.5001C34.3608 52.5001 35.3773 51.4863 35.3773 50.2356C35.3773 48.985 34.3608 47.9712 33.107 47.9712C31.8531 47.9712 30.8367 48.985 30.8367 50.2356C30.8367 51.4863 31.8531 52.5001 33.107 52.5001Z" fill="#485776"></path><path d="M28.2283 48.4525C29.2954 48.4525 30.1605 47.5897 30.1605 46.5253C30.1605 45.461 29.2954 44.5981 28.2283 44.5981C27.1612 44.5981 26.2961 45.461 26.2961 46.5253C26.2961 47.5897 27.1612 48.4525 28.2283 48.4525Z" fill="#485776"></path><path d="M36.8267 47.6822C38.0805 47.6822 39.097 46.6684 39.097 45.4178C39.097 44.1671 38.0805 43.1533 36.8267 43.1533C35.5728 43.1533 34.5564 44.1671 34.5564 45.4178C34.5564 46.6684 35.5728 47.6822 36.8267 47.6822Z" fill="#485776"></path><path d="M18.8571 43.3458C19.6574 43.3458 20.3062 42.6987 20.3062 41.9005C20.3062 41.1022 19.6574 40.4551 18.8571 40.4551C18.0568 40.4551 17.408 41.1022 17.408 41.9005C17.408 42.6987 18.0568 43.3458 18.8571 43.3458Z" fill="#485776"></path></svg>
</div>
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="iota">IOTA (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">IOTA Client Library</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/iotaledger/iota.rs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="high-level-api-specification"><a class="header" href="#high-level-api-specification">High Level API Specification</a></h1>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ul>
<li><a href="#Introduction">Introduction</a></li>
<li><a href="#Builder">Builder</a></li>
<li><a href="#General-high-level-API">General high level API</a>
<ul>
<li><a href="#message"><code>message</code></a></li>
<li><a href="#get_message"><code>get_message</code></a></li>
<li><a href="#find_messages"><code>find_messages</code></a></li>
<li><a href="#get_unspent_address"><code>get_unspent_address</code></a></li>
<li><a href="#get_addresses"><code>get_addresses</code></a></li>
<li><a href="#get_balance"><code>get_balance</code></a></li>
<li><a href="#get_address_balances"><code>get_address_balances</code></a></li>
<li><a href="#bech32_to_hex"><code>bech32_to_hex</code></a></li>
<li><a href="#hex_to_bech32"><code>hex_to_bech32</code></a></li>
<li><a href="#parse_bech32_address"><code>parse_bech32_address</code></a></li>
<li><a href="#is_address_valid"><code>is_address_valid</code></a></li>
<li><a href="#subscriber"><code>subscriber</code></a></li>
<li><a href="#retry"><code>retry</code></a></li>
<li><a href="#retry_until_included"><code>retry_until_included</code></a></li>
<li><a href="#reattach"><code>reattach</code></a></li>
<li><a href="#promote"><code>promote</code></a></li>
</ul>
</li>
<li><a href="#Full-node-API">Full node API</a>
<ul>
<li><a href="#get_health"><code>get_health</code></a></li>
<li><a href="#get_peers"><code>get_health</code></a></li>
<li><a href="#get_info"><code>get_info</code></a></li>
<li><a href="#get_tips"><code>get_tips</code></a></li>
<li><a href="#post_message"><code>post_message</code></a></li>
<li><a href="#get_output"><code>get_output</code></a></li>
<li><a href="#get_address"><code>get_address</code></a></li>
<li><a href="#find_outputs"><code>find_outputs</code></a></li>
<li><a href="#get_milestone"><code>get_milestone</code></a></li>
<li><a href="#get_milestone_utxo_changes"><code>get_milestone_utxo_changes</code></a></li>
<li><a href="#get_receipts"><code>get_receipts</code></a></li>
<li><a href="#get_receipts_migrated_at"><code>get_receipts_migrated_at</code></a></li>
<li><a href="#get_treasury"><code>get_treasury</code></a></li>
<li><a href="#get_included_message"><code>get_included_message</code></a></li>
</ul>
</li>
<li><a href="#Objects">Objects</a>
<ul>
<li>[Network]</li>
<li><a href="#Seed">Seed</a></li>
<li><a href="#Message">Message</a></li>
<li>[Payload]</li>
<li>[Output]</li>
<li><a href="#Address">Address</a></li>
<li><a href="#AddressBalancePair">AddressBalancePair</a></li>
<li><a href="#Milestone">Milestone</a></li>
<li><a href="#Api">API</a></li>
<li><a href="#BrokerOptions">BrokerOptions</a></li>
<li><a href="#Topic">Topic</a></li>
</ul>
</li>
</ul>
<h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>This document specifies a user friendly API to be used in the client libraries. The main implementation will be in Rust which will receive automatically compiled client libraries in other languages via C or Webassembly bindings. There are also many crates to support developers creating foreign function interfaces with native bindings.</p>
<h1 id="builder"><a class="header" href="#builder">Builder</a></h1>
<p>The data structure to initialize the instance of the Higher level client library. This is always called first when starting a new interaction with the library. Note: This is the common approach to do initialization in Rust. Different languages might use different methods such as just calling an initialization function directly.</p>
<h3 id="parameters"><a class="header" href="#parameters">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default Value</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>network</strong></td><td>✘</td><td>Testnet</td><td>&amp;str</td><td>Optional, the network type can be &quot;testnet&quot; or &quot;mainnet&quot;. If no node url is provided, some default nodes are used for the specified network. Nodes that aren't in this network will be ignored.</td></tr>
<tr><td><strong>node</strong></td><td>✘</td><td>None</td><td>&amp;str</td><td>The URL of a node to connect to; format: <code>https://node:port</code></td></tr>
<tr><td><strong>primary_node</strong></td><td>✘</td><td>None</td><td>&amp;str, auth_name_passw: Option&lt;(&amp;str, &amp;str)&gt;</td><td>The URL of a node to always connect first to with optional name and password for basic authentication, if multiple nodes are available; format: <code>https://node:port</code>, Some(&quot;name&quot;, &quot;password&quot;)</td></tr>
<tr><td><strong>primary_pow_node</strong></td><td>✘</td><td>None</td><td>&amp;str, auth_name_passw: Option&lt;(&amp;str, &amp;str)&gt;</td><td>The URL of a node to always connect first to when submitting a message with remote PoW, if multiple nodes are available. Will override primary_node in that case. With optional name and password for basic authentication; format: <code>https://node:port</code>, Some(&quot;name&quot;, &quot;password&quot;)</td></tr>
<tr><td><strong>node_auth</strong></td><td>✘</td><td>None</td><td>&amp;str, &amp;str, &amp;str</td><td>The URL of a node to connect to with name and password for basic authentication; format: <code>https://node:port</code>, <code>name</code>, <code>password</code></td></tr>
<tr><td><strong>nodes</strong></td><td>✘</td><td>None</td><td>&amp;[&amp;str]</td><td>A list of nodes to connect to; nodes are added with the <code>https://node:port</code> format. The amount of nodes specified in quorum_size are randomly selected from this node list to check for quorum based on the quorum threshold. If quorum_size is not given the full list of nodes is checked.</td></tr>
<tr><td><strong>node_sync_interval</strong></td><td>✘</td><td>Duration::from_secs(60)</td><td>std::time::Duration</td><td>The interval in milliseconds to check for node health and sync</td></tr>
<tr><td><strong>node_sync_disabled</strong></td><td>✘</td><td>false</td><td>bool</td><td>If disabled also unhealty nodes will be used</td></tr>
<tr><td><strong>node_pool_urls</strong></td><td>None</td><td>✘</td><td>&amp;[String]</td><td>A list of node_pool_urls from which nodes are added. The amount of nodes specified in quorum_size are randomly selected from this node list to check for quorum based on the quorum threshold. If quorum_size is not given the full list of nodes is checked.</td></tr>
<tr><td><strong>quorum</strong></td><td>✘</td><td>false</td><td>bool</td><td>Define if quorum should be used for the requests</td></tr>
<tr><td><strong>quorum_size</strong></td><td>✘</td><td>3</td><td>usize</td><td>Define how many nodes should be used for quorum</td></tr>
<tr><td><strong>quorum_threshold</strong></td><td>✘</td><td>66</td><td>usize</td><td>Define the % of nodes that need to return the same response to accept it</td></tr>
<tr><td><strong>request_timeout</strong></td><td>✘</td><td>Duration::from_secs(30)</td><td>std::time::Duration</td><td>The amount of seconds a request can be outstanding to a node before it's considered timed out</td></tr>
<tr><td><strong>api_timeout</strong></td><td>✘</td><td>Api::GetInfo: Duration::from_secs(2)),<br /> Api::GetHealth: Duration::from_secs(2),<br />Api::GetPeers: Duration::from_secs(2),<br />Api::GetMilestone: Duration::from_secs(2),<br />Api::GetTips: Duration::from_secs(2),<br />Api::PostMessage: Duration::from_secs(2),<br />Api::PostMessageWithRemotePow: Duration::from_secs(30),<br />Api::GetOutput: Duration::from_secs(2)</td><td>HashMap&lt;<a href="#Api">Api</a>,<br /> std::time::Duration&gt;</td><td>The amount of milliseconds a request to a specific Api endpoint can be outstanding to a node before it's considered timed out.</td></tr>
<tr><td><strong>local_pow</strong></td><td>✘</td><td>True</td><td>bool</td><td>If not defined it defaults to local PoW to offload node load times</td></tr>
<tr><td><strong>tips_interval</strong></td><td>✘</td><td>15</td><td>u64</td><td>Time interval during PoW when new tips get requested.</td></tr>
<tr><td><strong>mqtt_broker_options</strong></td><td>✘</td><td>True,<br />Duration::from_secs(30),<br />True</td><td><a href="#BrokerOptions">BrokerOptions</a></td><td>If not defined the default values will be used</td></tr>
</tbody></table>
<ul>
<li>Note that there must be at least one node to build the instance successfully.</li>
</ul>
<h3 id="return"><a class="header" href="#return">Return</a></h3>
<p>Finalize the builder with <code>finish()</code> will run the instance in the background. Users don’t need to worry about the return object handling.</p>
<h2 id="on-initialization"><a class="header" href="#on-initialization">On initialization</a></h2>
<p>On initialisation, call getNodeInfo API. Check the health of each node in the node list, and put healty nodes, matching the PoW settings and network in a synced nodelist.</p>
<table><thead><tr><th>Node metadata</th><th>Description</th></tr></thead><tbody>
<tr><td>network</td><td>If this parameter does not match the global builder parameter, don't add it to the synced nodelist.</td></tr>
<tr><td>pow</td><td>If the global local_pow parameter is set to false, then put only nodes with the PoW feature in the synced nodelist.</td></tr>
</tbody></table>
<h2 id="sync-process"><a class="header" href="#sync-process">Sync Process</a></h2>
<p>When a <code>Client</code> instance (The instance which is used for calling the client APIs) is built, the status of each node listed is checked. If the returned status of the node information is healthy, which means the node is synced, then this node will be pushed into a <code>synced_nodes</code> list. The rust-like pseudo code of <code>synced_nodes</code> construction process follows. The process of syncing a node is repeated every 60 seconds or at the interval specified in the <code>node_sync_interval</code> argument of the initializer if set.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>synced_nodes = Vec::new()
for node in node_pool_urls{
   status = Client.get_info(node).await?;
   if status == healthy{
      synced_nodes.push(node)
   }
}
<span class="boring">}
</span></code></pre></pre>
<h1 id="general-high-level-api"><a class="header" href="#general-high-level-api"><code>General high level API</code></a></h1>
<p>Here is the high level abstraction API collection with sensible default values for users easy to use.</p>
<h2 id="message"><a class="header" href="#message"><code>message()</code></a></h2>
<p>A generic send function for easily sending a message.</p>
<h3 id="parameters-1"><a class="header" href="#parameters-1">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>seed</strong></td><td>✘</td><td>None</td><td><a href="#Seed">Seed</a></td><td>The seed of the account we are going to spend, only needed for transactions</td></tr>
<tr><td><strong>account_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>.</td></tr>
<tr><td><strong>initial_address_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The index from where to start looking for balance. Responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/0'/0'/✘'</code>.</td></tr>
<tr><td><strong>input</strong></td><td>✘</td><td>None</td><td>UtxoInput</td><td>Users can manually select their UtxoInputs instead of having automatically selected inputs.</td></tr>
<tr><td><strong>input_range</strong></td><td>✘</td><td>0..100</td><td>Range</td><td>Custom range to search for the input addresses if custom inputs are provided.</td></tr>
<tr><td><strong>output</strong></td><td>✘</td><td>None</td><td>address: &amp;[String],<br />amount: u64</td><td>Address to send to and amount to send. Address needs to be Bech32 encoded.</td></tr>
<tr><td><strong>output_hex</strong></td><td>✘</td><td>None</td><td>address: &amp;str,<br />amount: u64</td><td>Address to send to and amount to send. Address needs to be hex encoded.</td></tr>
<tr><td><strong>index</strong></td><td>✘</td><td>None</td><td>&amp;[u8] / &amp;str</td><td>An optional indexation key for an indexation payload. 1-64 bytes long.</td></tr>
<tr><td><strong>data</strong></td><td>✘</td><td>None</td><td>Vec<u8></td><td>Optional data for the indexation payload.</td></tr>
<tr><td><strong>parents</strong></td><td>✘</td><td>None</td><td><a href="#MessageId">MessageId</a></td><td>1-8 optional parents <a href="#MessageId">MessageId</a> to be used.</td></tr>
</tbody></table>
<p>Depending on the provided values this function will create a message with:</p>
<ul>
<li>no payload</li>
<li>an indexation payload</li>
<li>a transaction payload</li>
<li>a transaction payload containing an indexation payload</li>
</ul>
<h3 id="return-1"><a class="header" href="#return-1">Return</a></h3>
<p>The <a href="#Message">Message</a> object we build.</p>
<h3 id="implementation-details"><a class="header" href="#implementation-details">Implementation Details</a></h3>
<ul>
<li>Validate inputs, such as address and seed to check if they are correct.</li>
<li>Check if account balance is bigger or equal to the value using method similar to <a href="#get_balance"><code>get_balance()</code></a>;</li>
<li>Build and validate the message with signed transaction payload accordingly;</li>
<li>Get tips using <a href="#get_tips"><code>get_tips()</code></a>;</li>
<li>Perform proof-of-work locally (if not set to remote);</li>
<li>Send the message using <a href="#post_messages"><code>post_messages()</code></a>;</li>
</ul>
<h2 id="get_message"><a class="header" href="#get_message"><code>get_message()</code></a></h2>
<p>(<code>GET /api/v1/messages</code>)</p>
<p>Endpoint collection all about GET messages.</p>
<h3 id="parameters-2"><a class="header" href="#parameters-2">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td><a href="#MessageId">MessageId</a></td><td>The identifier of message.</td></tr>
<tr><td><strong>index</strong></td><td>✔</td><td>&amp;[u8] / &amp;str</td><td>An indexation key.</td></tr>
</tbody></table>
<h3 id="returns"><a class="header" href="#returns">Returns</a></h3>
<p>Depend on the final calling method, users could get different results they need:</p>
<ul>
<li><code>metadata(&amp;MessageId)</code>: Return <a href="#MessageMetadata">MessageMetadata</a> of the message.</li>
<li><code>data(&amp;MessageId)</code>: Return a <a href="#Message">Message</a> object.</li>
<li><code>raw(&amp;MessageId)</code>: Return the raw data of given message.</li>
<li><code>children(&amp;MessageId)</code>: Return the list of <a href="#MessageId">MessageId</a>s that reference a message by its identifier.</li>
<li><code>index(&amp;[u8] | &amp;str)</code> : Return the list of <a href="#MessageId">MessageId</a>s that have this str as indexation key</li>
</ul>
<h2 id="find_messages"><a class="header" href="#find_messages"><code>find_messages()</code></a></h2>
<p>Find all messages by provided message IDs.</p>
<h3 id="parameters-3"><a class="header" href="#parameters-3">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>indexation_keys</strong></td><td>✘</td><td>[&amp;[u8] / &amp;str]</td><td>The index key of the indexation payload.</td></tr>
<tr><td><strong>message_ids</strong></td><td>✘</td><td>[<a href="#MessageId">MessageId</a>]</td><td>The identifier of message.</td></tr>
</tbody></table>
<h3 id="returns-1"><a class="header" href="#returns-1">Returns</a></h3>
<p>A vector of <a href="#Message">Message</a> Object.</p>
<h2 id="get_unspent_address"><a class="header" href="#get_unspent_address"><code>get_unspent_address()</code></a></h2>
<p>Return a valid unspent public Bech32 encoded address.</p>
<h3 id="parameters-4"><a class="header" href="#parameters-4">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>seed</strong></td><td>✔</td><td>-</td><td><a href="#Seed">Seed</a></td><td>The seed we want to use.</td></tr>
<tr><td><strong>account_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>.</td></tr>
<tr><td><strong>initial_address_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>Start index of the addresses to search. Responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/0'/0'/✘'</code>.</td></tr>
</tbody></table>
<h3 id="return-2"><a class="header" href="#return-2">Return</a></h3>
<p>Return a tuple with type of <code>(String, usize)</code> as the address and corresponding index in the account.</p>
<h3 id="implementation-details-1"><a class="header" href="#implementation-details-1">Implementation Details</a></h3>
<p>Following are the steps for implementing this method:</p>
<ul>
<li>Start generating addresses with given account index and starting index. We will have a default <a href="https://blog.blockonomics.co/bitcoin-what-is-this-gap-limit-4f098e52d7e1">gap limit</a> of 20 at a time;</li>
<li>Check for balances on the generated addresses using <a href="#find_outputs"><code>find_outputs()</code></a> and keep track of the positive balances;</li>
<li>Repeat the above step till there's an unspent address found;</li>
<li>Return the address with corresponding index on the wallet chain;</li>
</ul>
<h2 id="get_addresses"><a class="header" href="#get_addresses"><code>get_addresses()</code></a></h2>
<p>Return a list of addresses from the seed regardless of their validity.</p>
<h3 id="parameters-5"><a class="header" href="#parameters-5">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>seed</strong></td><td>✔</td><td>None</td><td><a href="#Seed">Seed</a></td><td>The seed we want to search for.</td></tr>
<tr><td><strong>account_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>.</td></tr>
<tr><td><strong>range</strong></td><td>✘</td><td>None</td><td>std::ops::Range</td><td>Range indices of the addresses we want to search for. Default is (0..20)</td></tr>
<tr><td><strong>get_all</strong></td><td>✘</td><td>✘</td><td>✘</td><td>Get public and <a href="https://bitcoin.stackexchange.com/questions/75033/bip44-and-change-addresses">change addresses</a>. Will return Vec&lt;([String], bool)&gt;, where the bool is indicating whether it's a change address</td></tr>
</tbody></table>
<h3 id="return-3"><a class="header" href="#return-3">Return</a></h3>
<p>Vec&lt;[String]&gt;, with the public addresses</p>
<h2 id="get_balance"><a class="header" href="#get_balance"><code>get_balance()</code></a></h2>
<p>Return the balance for a provided seed and its wallet account index.</p>
<h3 id="parameters-6"><a class="header" href="#parameters-6">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>seed</strong></td><td>✔</td><td>-</td><td><a href="#Seed">Seed</a></td><td>The seed we want to search for.</td></tr>
<tr><td><strong>account_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>The account index, responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/✘'/0'/0'</code>.</td></tr>
<tr><td><strong>initial_address_index</strong></td><td>✘</td><td>0</td><td>usize</td><td>Start index from which to generate addresses. Default is 0. Responsible for the value <code>✘</code> in the Bip32Path <code>m/44'/4218'/0'/0'/✘'</code>.</td></tr>
<tr><td><strong>gap_limit</strong></td><td>✘</td><td>20</td><td>usize</td><td>The gap limit specifies how many addresses will be checked each round. If gap_limit amount of addresses in a row have no balance the function will return.</td></tr>
</tbody></table>
<h3 id="return-4"><a class="header" href="#return-4">Return</a></h3>
<p>Total account balance.</p>
<h3 id="implementation-details-2"><a class="header" href="#implementation-details-2">Implementation Details</a></h3>
<p>Following are the steps for implementing this method:</p>
<ul>
<li>Start generating addresses with given wallet account index and starting index. We will have a default <a href="https://blog.blockonomics.co/bitcoin-what-is-this-gap-limit-4f098e52d7e1">gap limit</a> of 20 at a time;</li>
<li>Check for balances on the generated addresses using <a href="#find_outputs"><code>find_outputs()</code></a> and keep track of the positive balances;</li>
<li>Repeat the above step till an address of zero balance is found;</li>
<li>Accumulate the positive balances and return the result.</li>
</ul>
<h2 id="get_address_balances"><a class="header" href="#get_address_balances"><code>get_address_balances()</code></a></h2>
<p>Return the balance in iota for the given addresses; No seed or security level needed to do this since we are only checking and already know the addresses.</p>
<h3 id="parameters-7"><a class="header" href="#parameters-7">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>addresses</strong></td><td>✔</td><td>[[String]]</td><td>List of Bech32 encoded addresses.</td></tr>
</tbody></table>
<h3 id="return-5"><a class="header" href="#return-5">Return</a></h3>
<p>A list of tuples with value of <a href="#AddressBalancePair">AddressBalancePair</a>. The usize is the balance of the address accordingly.</p>
<h3 id="implementation-details-3"><a class="header" href="#implementation-details-3">Implementation details:</a></h3>
<p>Following are the steps for implementing this method:</p>
<ul>
<li>Validate <em>address</em> semantics;</li>
<li>Get latest balance for the provided address using <a href="#find_outputs"><code>find_outputs()</code></a> with addresses as parameter;</li>
<li>Return the list of Output which contains corresponding pairs of address and balance.</li>
</ul>
<h2 id="generate_mnemonic"><a class="header" href="#generate_mnemonic"><code>generate_mnemonic()</code></a></h2>
<p>Returns a random generated Bip39 mnemonic with the English word list.</p>
<h3 id="return-6"><a class="header" href="#return-6">Return</a></h3>
<p>Parsed [String].</p>
<h2 id="mnemonic_to_hex_seedmnemonic"><a class="header" href="#mnemonic_to_hex_seedmnemonic"><code>mnemonic_to_hex_seed(mnemonic)</code></a></h2>
<p>Returns the seed hex encoded.</p>
<h3 id="parameters-8"><a class="header" href="#parameters-8">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>mnemonic</strong></td><td>✔</td><td>[String]</td><td>Bip39 mnemonic with words from the English word list.</td></tr>
</tbody></table>
<h3 id="return-7"><a class="header" href="#return-7">Return</a></h3>
<p>Parsed [String].</p>
<h2 id="bech32_to_hex"><a class="header" href="#bech32_to_hex"><code>bech32_to_hex()</code></a></h2>
<p>Returns a parsed hex String from bech32.</p>
<h3 id="parameters-9"><a class="header" href="#parameters-9">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>bech32</strong></td><td>✔</td><td>[String]</td><td>Bech32 encoded address.</td></tr>
</tbody></table>
<h3 id="return-8"><a class="header" href="#return-8">Return</a></h3>
<p>Parsed [String].</p>
<h2 id="hex_to_bech32"><a class="header" href="#hex_to_bech32"><code>hex_to_bech32()</code></a></h2>
<p>Returns a parsed bech32 String from hex.</p>
<h3 id="parameters-10"><a class="header" href="#parameters-10">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>hex</strong></td><td>✔</td><td>[String]</td><td>Hex encoded address.</td></tr>
<tr><td><strong>bech32_hrp</strong></td><td>✔</td><td>[Option<String>]</td><td>Optional bech32 hrp.</td></tr>
</tbody></table>
<h3 id="return-9"><a class="header" href="#return-9">Return</a></h3>
<p>Parsed [String].</p>
<h2 id="parse_bech32_address"><a class="header" href="#parse_bech32_address"><code>parse_bech32_address()</code></a></h2>
<p>Returns a valid Address parsed from a String.</p>
<h3 id="parameters-11"><a class="header" href="#parameters-11">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>address</strong></td><td>✔</td><td>[String]</td><td>Bech32 encoded address.</td></tr>
</tbody></table>
<h3 id="return-10"><a class="header" href="#return-10">Return</a></h3>
<p>Parsed <a href="#Address">Address</a>.</p>
<h2 id="is_address_valid"><a class="header" href="#is_address_valid"><code>is_address_valid()</code></a></h2>
<h3 id="parameters-12"><a class="header" href="#parameters-12">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>address</strong></td><td>✔</td><td>[String]</td><td>Bech32 encoded address.</td></tr>
</tbody></table>
<h3 id="return-11"><a class="header" href="#return-11">Return</a></h3>
<p>A boolean showing if the address is valid.</p>
<h2 id="subscriber"><a class="header" href="#subscriber"><code>subscriber()</code></a></h2>
<p>Subscribe to a node event <a href="#Topic">Topic</a> (MQTT)</p>
<p>Required: one of</p>
<ul>
<li>
<p><code>topic()</code>: Add a new <a href="#Topic">Topic</a> to the list.</p>
</li>
<li>
<p><code>topics()</code>: Add a vector of <a href="#Topic">Topic</a> to the list.</p>
</li>
<li>
<p><code>subscribe()</code>: Subscribe to the given topics with the callback, which will be called every time when the topic is detected.</p>
</li>
<li>
<p><code>unsubscribe()</code>: Unsubscribes from all subscriptions.</p>
</li>
<li>
<p><code>disconnect()</code>: Disconnects the broker. This will clear the stored topic handlers and close the MQTT connection.</p>
</li>
</ul>
<h3 id="returns-2"><a class="header" href="#returns-2">Returns</a></h3>
<p>Nothing apart from a Ok(()) result if successful</p>
<h2 id="retry"><a class="header" href="#retry"><code>retry()</code></a></h2>
<p>Retries (promotes or reattaches) a message for provided <a href="#MessageId">MessageId</a> if the node suggests it. The need to use this function should be low, because the confirmation throughput of the node is expected to be quite high.</p>
<h3 id="parameters-13"><a class="header" href="#parameters-13">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td><a href="#MessageId">MessageId</a></td><td>The identifier of message.</td></tr>
</tbody></table>
<h3 id="returns-3"><a class="header" href="#returns-3">Returns:</a></h3>
<p>A tuple with the newly promoted or reattached <code>(MessageId,  Message)</code>.</p>
<h3 id="implementation-details-4"><a class="header" href="#implementation-details-4">Implementation Details</a></h3>
<p>Following are the steps for implementing this method:</p>
<ul>
<li>Only unconfirmed messages should be allowed to retry. The method should validate the confirmation state of the provided messages. If a message id of a confirmed message is provided, the method should error out;</li>
<li>The method should also validate if a retry is necessary. This can be done by leveraging the <code>/messages/{messageId}/metadata</code> endpoint (already available through <a href="#get_message">get_message</a>). See <a href="https://github.com/iotaledger/trinity-wallet/blob/develop/src/shared/libs/iota/transfers.js#L105-L131">this</a> implementation for reference;</li>
<li>Use <a href="#reattach">reattach</a> or <a href="#promote">promote</a> accordingly.</li>
</ul>
<h2 id="retry_until_included"><a class="header" href="#retry_until_included"><code>retry_until_included()</code></a></h2>
<p>Retries (promotes or reattaches) a message for provided <a href="#MessageId">MessageId</a> until it's included (referenced by a milestone). Default interval is 5 seconds and max attempts is 10. The need to use this function should be low, because the confirmation throughput of the node is expected to be quite high.</p>
<h3 id="parameters-14"><a class="header" href="#parameters-14">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td>[&amp;MessageId]</td><td>The identifier of message.</td></tr>
<tr><td><strong>interval</strong></td><td>✘</td><td>Option<u64></td><td>The interval in which we retry the message.</td></tr>
<tr><td><strong>max_attempts</strong></td><td>✘</td><td>Option<u64></td><td>The maximum of attempts we retry the message.</td></tr>
</tbody></table>
<h3 id="returns-4"><a class="header" href="#returns-4">Returns:</a></h3>
<p>An array of tuples with the newly reattached <code>(MessageId,  Message)</code>.</p>
<h2 id="reattach"><a class="header" href="#reattach"><code>reattach()</code></a></h2>
<p>Depends on <a href="#find_messages">find_messages</a>, <a href="#get_message">get_message</a> and <a href="#post_message">post_message</a>.</p>
<p>Reattaches a message. The method should validate if a reattachment is necessary through <a href="#get_message">get_message</a>. If not, the method should error out and should not allow unnecessary reattachments.</p>
<h3 id="parameters-15"><a class="header" href="#parameters-15">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td><a href="#MessageId">MessageId</a></td><td>The identifier of message.</td></tr>
</tbody></table>
<h3 id="returns-5"><a class="header" href="#returns-5">Returns</a></h3>
<p>A tuple with the newly reattached <code>(MessageId,  Message)</code>.</p>
<h2 id="promote"><a class="header" href="#promote"><code>promote()</code></a></h2>
<p>Depends on <a href="#find_messages">find_messages</a>, <a href="#get_message">get_message</a> and <a href="#post_message">post_message</a>.</p>
<p>Promotes a message. The method should validate if a promotion is necessary through <a href="#get_message">get_message</a>. If not, the method should error out and should not allow unnecessary promotions.</p>
<h3 id="parameters-16"><a class="header" href="#parameters-16">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message_id</strong></td><td>✔</td><td><a href="#MessageId">MessageId</a></td><td>The identifier of message.</td></tr>
</tbody></table>
<h3 id="returns-6"><a class="header" href="#returns-6">Returns</a></h3>
<p>A tuple with the newly promoted <code>(MessageId,  Message)</code>.</p>
<h1 id="full-node-api"><a class="header" href="#full-node-api">Full node API</a></h1>
<p>Full node API of Bee and HORNET will still be public. Users who know these relative low level Restful API can still call them directly if they are confident and think it’s good for them. Note that both Bee and HORNET haven't finalized their APIs either. Following items and signatures might change later.</p>
<h2 id="get_health"><a class="header" href="#get_health"><code>get_health()</code></a></h2>
<p>(<code>GET /health</code>)</p>
<p>Returns the health of the node, which can be used for load-balancing or uptime monitoring.</p>
<h3 id="parameters-17"><a class="header" href="#parameters-17">Parameters</a></h3>
<p>None</p>
<h3 id="returns-7"><a class="header" href="#returns-7">Returns</a></h3>
<p>Boolean to indicate if node is healthy.</p>
<h2 id="get_peers"><a class="header" href="#get_peers"><code>get_peers()</code></a></h2>
<p>(<code>GET /peers</code>)</p>
<p>Get information about the peers of the node.</p>
<h3 id="parameters-18"><a class="header" href="#parameters-18">Parameters</a></h3>
<p>None</p>
<h3 id="returns-8"><a class="header" href="#returns-8">Returns</a></h3>
<pre><code class="language-Rust">pub struct PeerDto {
    pub id: String,
    #[serde(rename = &quot;multiAddresses&quot;)]
    pub multi_addresses: Vec&lt;String&gt;,
    pub alias: Option&lt;String&gt;,
    pub relation: RelationDto,
    pub connected: bool,
    pub gossip: Option&lt;GossipDto&gt;,
}
</code></pre>
<h2 id="get_info"><a class="header" href="#get_info"><code>get_info()</code></a></h2>
<p>(<code>GET /api/v1/info</code>)</p>
<p>Returns information about the node.</p>
<h3 id="parameters-19"><a class="header" href="#parameters-19">Parameters</a></h3>
<p>None</p>
<h3 id="returns-9"><a class="header" href="#returns-9">Returns</a></h3>
<p>A Response Object similar to this:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct NodeInfoWrapper {
    pub nodeinfo: NodeInfo,
    pub url: String,
}
pub struct NodeInfo {
    pub name: String,
    pub version: String,
    pub is_healthy: bool,
    pub network_id: String,
    pub latest_milestone_index: usize,
    pub min_pow_score: f64,
    pub messages_per_second: f64,
    pub referenced_messages_per_second: f64,
    pub referenced_rate: f64,
    pub latest_milestone_timestamp: u64,
    pub confirmed_milestone_index: usize,
    pub pruning_index: usize,
    pub features: Vec&lt;String&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="get_tips"><a class="header" href="#get_tips"><code>get_tips()</code></a></h2>
<p>(<code>GET /tips</code>)</p>
<p>Returns two non-lazy tips. In case the node can only provide one tip, tip1 and tip2 are identical.</p>
<h3 id="parameters-20"><a class="header" href="#parameters-20">Parameters</a></h3>
<p>None</p>
<h3 id="returns-10"><a class="header" href="#returns-10">Returns</a></h3>
<p>A tuple with two <a href="#MessageId">MessageId</a>:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>(MessageId, MessageId)
<span class="boring">}
</span></code></pre></pre>
<h2 id="post_message"><a class="header" href="#post_message"><code>post_message()</code></a></h2>
<p>(<code>POST /message</code>)</p>
<p>Submit a message. The node takes care of missing fields and tries to build the message. On success, the message will be stored in the Tangle. This endpoint will return the identifier of the message.</p>
<h3 id="parameters-21"><a class="header" href="#parameters-21">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>message</strong></td><td>✔</td><td><a href="#Message">Message</a></td><td>The message object.</td></tr>
</tbody></table>
<h3 id="returns-11"><a class="header" href="#returns-11">Returns</a></h3>
<p>The <a href="#MessageId">MessageId</a> of the message object.</p>
<h2 id="get_output"><a class="header" href="#get_output"><code>get_output()</code></a></h2>
<p>(<code>GET /outputs</code>)</p>
<p>Get the producer of the output, the corresponding address, amount and spend status of an output. This information can only be retrieved for outputs which are part of a confirmed transaction.</p>
<h3 id="parameters-22"><a class="header" href="#parameters-22">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>output_id</strong></td><td>✔</td><td>UtxoInput</td><td>Identifier of the output.</td></tr>
</tbody></table>
<h3 id="returns-12"><a class="header" href="#returns-12">Returns</a></h3>
<p>An <a href="#OutputMetadata">OutputMetadata</a> that contains various information about the output.</p>
<h2 id="get_address"><a class="header" href="#get_address"><code>get_address()</code></a></h2>
<p>(<code>GET /addresses</code>)</p>
<h3 id="parameters-23"><a class="header" href="#parameters-23">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>address</strong></td><td>✔</td><td>[String]</td><td>The address to search for.</td></tr>
</tbody></table>
<h3 id="returns-13"><a class="header" href="#returns-13">Returns</a></h3>
<p>Depend on the final calling method, users could get different outputs they need:</p>
<ul>
<li><code>balance()</code>: Return confirmed balance of the address.</li>
<li><code>outputs([options])</code>: Return UtxoInput array (transaction IDs with corresponding output index).</li>
</ul>
<h2 id="find_outputs"><a class="header" href="#find_outputs"><code>find_outputs()</code></a></h2>
<p>Find all outputs based on the requests criteria.</p>
<h3 id="parameters-24"><a class="header" href="#parameters-24">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>output_id</strong></td><td>✘</td><td>[UtxoInput]</td><td>The identifier of output.</td></tr>
<tr><td><strong>addresses</strong></td><td>✘</td><td>[[String]]</td><td>The Bech32 encoded address.</td></tr>
</tbody></table>
<h3 id="returns-14"><a class="header" href="#returns-14">Returns</a></h3>
<p>A vector of <a href="#OutputMetadata">OutputMetadata</a>.</p>
<h2 id="get_milestone"><a class="header" href="#get_milestone"><code>get_milestone()</code></a></h2>
<p>(<code>GET /milestones</code>)</p>
<p>Get the milestone by the given index.</p>
<h3 id="parameters-25"><a class="header" href="#parameters-25">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>index</strong></td><td>✔</td><td>u32</td><td>Index of the milestone.</td></tr>
</tbody></table>
<h3 id="returns-15"><a class="header" href="#returns-15">Returns</a></h3>
<p>An <a href="#Milestone">Milestone</a> object.</p>
<h2 id="get_milestone_utxo_changes"><a class="header" href="#get_milestone_utxo_changes"><code>get_milestone_utxo_changes()</code></a></h2>
<p>(<code>GET /milestones/{}/utxo-changes</code>)</p>
<p>Get all UTXO changes of a given milestone.</p>
<h3 id="parameters-26"><a class="header" href="#parameters-26">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>index</strong></td><td>✔</td><td>u32</td><td>Index of the milestone.</td></tr>
</tbody></table>
<h3 id="returns-16"><a class="header" href="#returns-16">Returns</a></h3>
<pre><code class="language-Rust">MilestoneUTXOChanges {
    index: 1,
    created_outputs: [],
    consumed_outputs: [],
}
</code></pre>
<h2 id="get_receipts"><a class="header" href="#get_receipts"><code>get_receipts()</code></a></h2>
<p>(<code>GET /receipts</code>)</p>
<p>Get all receipts.</p>
<h3 id="returns-17"><a class="header" href="#returns-17">Returns</a></h3>
<pre><code class="language-Rust">Vec&lt;ReceiptDto&gt;
</code></pre>
<h2 id="get_receipts_migrated_at"><a class="header" href="#get_receipts_migrated_at"><code>get_receipts_migrated_at()</code></a></h2>
<p>(<code>GET /receipts/{migratedAt}</code>)</p>
<p>Get all receipts for a given milestone index.</p>
<h3 id="returns-18"><a class="header" href="#returns-18">Returns</a></h3>
<pre><code class="language-Rust">Vec&lt;ReceiptDto&gt;
</code></pre>
<h2 id="get_treasury"><a class="header" href="#get_treasury"><code>get_treasury()</code></a></h2>
<p>(<code>GET /treasury</code>)</p>
<p>Get the treasury amount.</p>
<h3 id="returns-19"><a class="header" href="#returns-19">Returns</a></h3>
<pre><code class="language-Rust">pub struct TreasuryResponse {
    #[serde(rename = &quot;milestoneId&quot;)]
    milestone_id: String,
    amount: u64,
}
</code></pre>
<h2 id="get_included_message"><a class="header" href="#get_included_message"><code>get_included_message()</code></a></h2>
<p>(<code>GET /transactions/{transactionId}/included-message</code>)</p>
<p>Get the included message of the transaction.</p>
<h3 id="parameters-27"><a class="header" href="#parameters-27">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>transaction_id</strong></td><td>✔</td><td>[TransactionId]</td><td>The id of the transaction.</td></tr>
</tbody></table>
<h3 id="returns-20"><a class="header" href="#returns-20">Returns</a></h3>
<pre><code class="language-Rust">struct Message {
    parents: Vec&lt;MessageId&gt;,
    payload: Option&lt;Payload&gt;,
    nonce: u64,
}
</code></pre>
<h1 id="objects"><a class="header" href="#objects">Objects</a></h1>
<p>Here are the objects used in the API above. They aim to provide a secure way to handle certain data structures specified in the Iota stack.</p>
<h2 id="messageid"><a class="header" href="#messageid"><code>MessageId</code></a></h2>
<p>MessageId is a 32 bytes array which can represent as hex string.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct MessageId([u8; MESSAGE_ID_LENGTH]);
<span class="boring">}
</span></code></pre></pre>
<h2 id="seed"><a class="header" href="#seed"><code>Seed</code></a></h2>
<pre><code class="language-Rust">pub enum Seed {
    /// Ed25519 variant
    Ed25519(Ed25519Seed)
}
</code></pre>
<p>An IOTA seed that inner structure is omitted. Users can create this type by passing a String. It will verify and return an error if it’s not valid. |</p>
<h2 id="message-1"><a class="header" href="#message-1"><code>Message</code></a></h2>
<p>The message object returned by various functions; based on the <a href="https://github.com/GalRogozinski/protocol-rfcs/blob/message/text/0017-message/0017-message.md">RFC</a> for the Message object. Here's the brief overview of each components in Message type would look like:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Message {
    parents: Vec&lt;MessageId&gt;,
    payload: Option&lt;Payload&gt;,
    nonce: u64,
}

enum Payload {
    Transaction(Box&lt;Transaction&gt;),
    Milestone(Box&lt;Milestone&gt;),
    Indexation(Box&lt;Indexation&gt;),
}

struct Transaction {
    pub essence: TransactionPayloadEssence,
    pub unlock_blocks: Vec&lt;UnlockBlock&gt;,
}

struct Milestone {
    essence: MilestoneEssence,
    signatures: Vec&lt;Box&lt;[u8]&gt;&gt;,
}

struct Indexation {
    index: String,
    data: Box&lt;[u8]&gt;,
}

struct TransactionPayloadEssence {
    pub(crate) inputs: Box&lt;[Input]&gt;,
    pub(crate) outputs: Box&lt;[Output]&gt;,
    pub(crate) payload: Option&lt;Payload&gt;,
}

enum Input {
    UTXO(UtxoInput(OutputId)),
}

struct OutputId {
    transaction_id: TransactionId,
    index: u16,
}

enum Output {
    SignatureLockedSingle(SignatureLockedSingleOutput),
}

struct SignatureLockedSingleOutput {
    address: Address,
    amount: u64,
}

enum UnlockBlock {
    Signature(SignatureUnlock),
    Reference(ReferenceUnlock),
}

enum SignatureUnlock {
    Ed25519(Ed25519Signature),
}

struct Ed25519Signature {
    public_key: [u8; 32],
    signature: Box&lt;[u8]&gt;,
}

struct ReferenceUnlock(u16);
<span class="boring">}
</span></code></pre></pre>
<h2 id="messagemetadata"><a class="header" href="#messagemetadata"><code>MessageMetadata</code></a></h2>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct MessageMetadata {
    /// Message ID
    pub message_id: String,
    /// Message IDs of parents
    pub parents: Vec&lt;String&gt;,
    /// Solid status
    pub is_solid: bool,
    /// Should promote
    pub should_promote: Option&lt;bool&gt;,
    /// Should reattach
    pub should_reattach: Option&lt;bool&gt;,
    /// Referenced by milestone index
    pub referenced_by_milestone_index: Option&lt;u32&gt;,
    /// Ledger inclusion state
    pub ledger_inclusion_state: Option&lt;String&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="outputmetadata"><a class="header" href="#outputmetadata"><code>OutputMetadata</code></a></h2>
<p>The metadata of an output:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct OutputMetadata {
    /// Message ID of the output
    pub message_id: Vec&lt;u8&gt;,
    /// Transaction ID of the output
    pub transaction_id: Vec&lt;u8&gt;,
    /// Output index.
    pub output_index: u16,
    /// Spend status of the output
    pub is_spent: bool,
    /// Corresponding address
    pub address: Address,
    /// Balance amount
    pub amount: u64,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="address"><a class="header" href="#address"><code>Address</code></a></h2>
<p>An Ed25519 address can be encoded in Bech32 or Hex, with Bech32 being preferred and also used in most functions.</p>
<pre><code class="language-Rust">pub enum Address {
    Ed25519(Ed25519Address),
}
</code></pre>
<h2 id="addressbalancepair"><a class="header" href="#addressbalancepair"><code>AddressBalancePair</code></a></h2>
<pre><code class="language-Rust">pub struct AddressBalancePair {
    /// Address, bech32 encoded
    pub address: String,
    /// Balance in the address
    pub balance: u64,
    /// If dust is allowed on the address
    pub dust_allowed: bool,
}
</code></pre>
<h2 id="milestone"><a class="header" href="#milestone"><code>Milestone</code></a></h2>
<p>A milestone metadata.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct MilestoneMetadata {
    /// Milestone index
    pub milestone_index: u32,
    /// Milestone ID
    pub message_id: String,
    /// Timestamp
    pub timestamp: u64,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="api"><a class="header" href="#api"><code>Api</code></a></h2>
<pre><code class="language-Rust">pub enum Api {
    /// `get_health` API
    GetHealth,
    /// `get_info`API
    GetInfo,
    /// `get_tips` API
    GetTips,
    /// `post_message` API
    PostMessage,
    /// `post_message` API with remote pow
    PostMessageWithRemotePow,
    /// `get_output` API
    GetOutput,
    /// `get_milestone` API
    GetMilestone,
}
</code></pre>
<h2 id="brokeroptions"><a class="header" href="#brokeroptions"><code>BrokerOptions</code></a></h2>
<pre><code class="language-Rust">pub struct BrokerOptions {
    #[serde(default = &quot;default_broker_automatic_disconnect&quot;, rename = &quot;automaticDisconnect&quot;)]
    pub(crate) automatic_disconnect: bool,
    #[serde(default = &quot;default_broker_timeout&quot;)]
    pub(crate) timeout: std::time::Duration,
    #[serde(rename = &quot;maxReconnectionAttempts&quot;, default)]
    pub(crate) max_reconnection_attempts: usize,
}
</code></pre>
<h2 id="topic"><a class="header" href="#topic"><code>Topic</code></a></h2>
<p>A string with the exact MQTT topic to monitor, can have one of the following variations:</p>
<pre><code>milestones/latest
milestones/confirmed

messages
messages/referenced
messages/indexation/{index}
messages/{messageId}/metadata
transactions/{transactionId}/included-message

outputs/{outputId}

addresses/{address}/outputs
addresses/ed25519/{address}/outputs
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../libraries/python/troubleshooting.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../contribute.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../libraries/python/troubleshooting.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../contribute.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
